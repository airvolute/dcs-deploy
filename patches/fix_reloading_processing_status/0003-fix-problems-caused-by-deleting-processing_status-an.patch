From f2a200b6812ba4fec8e594b787858f99e312a9b3 Mon Sep 17 00:00:00 2001
From: Michal Bachraty <michal.bachraty@gmail.com>
Date: Mon, 11 Sep 2023 16:42:39 +0200
Subject: [PATCH 3/4] fix problems caused by deleting processing_status and not
 updating status in class

Signed-off-by: Michal Bachraty <michal.bachraty@gmail.com>
---
 dcs_deploy.py | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/dcs_deploy.py b/dcs_deploy.py
index 4da58ea..56aea58 100755
--- a/dcs_deploy.py
+++ b/dcs_deploy.py
@@ -147,6 +147,10 @@ class ProcessingStatus:
                 break
     
     def get_status(self, group = None):
+        #check if configuration was deleled. If yes, reload default configuration
+        if not os.path.isfile(self.status_file_name):
+            self.load()
+
         if group == None:
             group = self.group
         return self.status[group]["status"]
-- 
2.34.1

